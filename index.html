<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Selector</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="game/head.css">
    <link rel="stylesheet" href="game/body.css">
    <link rel="stylesheet" href="game/footer.css">
    <link rel="icon" href="game/icons/game.ico" type="image/x-icon">
    <base href=".">
  </head>
  <body>
  <div>
    <h1>Game Selector</h1>
    <p class="bookmarksTop">
      <a href="#item1">Home</a>
      <!-- <a href="#item2">Game</a> -->
      <a href="#item3">How To Play</a>
      <a href="#item4">About</a>
      <a href="#default">Clear</a>
    
    <div class="items">
      <div id="item1"> <!-- Zmieniłem <p> na <div> żeby można było wstawić listę przycisków -->
        <div class="HomeContainer">
          <div class="Home">
            <h2>Welcome to Game Selector!</h2>
            <p>Please chose a game from the list.</p>
            <p>Have fun!</p>
            <img src="game/icons/game.ico" alt="Opis obrazka">
          </div>
          <div class="btnGroupGameStarter">
            <button onclick="showGameTab(); runSnakeGame()">Run Snake Game</button>
            <button onclick="showGameTab(); runSlideGame()">Run Slide Game</button>
            <button onclick="showGameTab(); runPongGame()">Run Pong Game</button>
            <button onclick="showGameTab(); runMergeGame()">Run Merge Game</button>
            <button onclick="showGameTab(); runAnotherGame()">Run Another Game</button>
            <!-- Dodać więcej przycisków dla innych gier -->
          </div>
        </div>
      </div>
      <div id="item2"> <!-- Zmieniłem <p> na <div> żeby można było wstawić listę przycisków -->
        <div class="container">
          <div class="box">
            <h2 id="playGame">GAME</h2>
            <div id="gameContainer">          
              <!-- Tutaj będą wyświetlane gry -->
            </div>

<!--             <div class="GameButtons">
              <button class="myButton" onclick="startGame(playGame.innerHTML)">Start Game</button>
              <button class="myButton" onclick="clearGameContainer()">Clear Game</button>
              <button class="myButton" onclick="stopCurrentGame()">Stop Game</button> 
              <button class="myButton" onclick="resetCurrentGame()">Reset Game</button> 
            </div> -->
          </div>
          <div class="btnGroupGameStarter">
            <button class="myButton" onclick="startGame(playGame.innerHTML)">Start Game</button>
            <button class="myButton" onclick="clearGameContainer()">Clear Game</button>
            <button class="myButton" onclick="stopCurrentGame()">Stop Game</button> <!-- Dodany przycisk Stop Game -->
            <button class="myButton" onclick="resetCurrentGame()">Reset Game</button> <!-- Dodany przycisk Reset Game -->
          </div>
        </div>
      </div>
      <div id="item3">
        <div class="HowToPlay">
          <div class="HowToPlayHead">
            <h2>How To Play</h2>
            <p>Use the buttons to select a game.</p>
            <p>Click on the "Start Game" button to start the game.</p>
            <p>Use the arrow keys to control the game.</p>
            <p>Click on the "Clear Game" button to clear the game.</p>
            <p>Click on the "Stop Game" button to stop the game.</p>
            <p>Click on the "Reset Game" button to reset the game.</p>
            <p>Have fun!</p>            
          </div>
          <div class="HowToPlayBody">
            <h2>Game List</h2>
            <ul class="GameList">
              <li><a href="#game1">Snake Game</a></li>
              <li><a href="#game2">Slide Game</a></li>
              <li><a href="#game3">Pong Game</a></li>
              <li><a href="#game4">Merge Game</a></li>
              <li><a href="#game5">Another Game</a></li>

            </ul>
            <section id="game1">
              <h2>Snake Game</h2>
              <div>
                <h3>How to play:</h3>
                <p>In the classic Snake game, your goal is to control a snake moving around the board.</p>
                <p>You must collect flashing objects to make the snake grow while avoiding collisions with itself. </p>
                <p>As the snake grows longer, it becomes increasingly challenging to keep it under control.</p>
                <p>The game ends when the snake collides with itself.</p>
                <br/>
                <a href="#item3" class="BackOnTop"><i class="fa-solid fa-share"></i></a>
              </div>
            </section>            
            <section id="game2">
              <h2>Slide Game</h2>
              <div>
                <h3>How to play:</h3>
                <p>Slide Game is a puzzle game </p>
                <p>where you have to slide blocks around the board to guide a selected block to its designated goal.</p>
                <p>With each subsequent level, the difficulty increases, </p>
                <p>requiring players to demonstrate greater dexterity and logical thinking.</p>
                <br/>
                <a href="#item3" class="BackOnTop"><i class="fa-solid fa-share"></i></a>
              </div>
            </section>
            <section id="game3">
              <h2>Pong Game</h2>
              <div>
                <h3>How to play:</h3>
                <p>Pong is a classic arcade game where two players compete against each other, </p>
                <p>controlling paddles to bounce a ball in such a way that the opponent cannot catch it. </p>
                <p>The game ends when one side reaches a specified number of points or when one side fails to catch the ball.</p>
                <br/>
                <a href="#item3" class="BackOnTop"><i class="fa-solid fa-share"></i></a>
              </div>
            </section>
            <section id="game4">
              <h2>Merge Game</h2>
              <div>
                <h3>How to play:</h3>
                <p>Merge Game is a game based on the principles of merging blocks of different colors or numerical values.</p>
                <p>Your goal is to merge blocks with the same values to create blocks with higher values and maximize your score. </p>
                <p>The game ends when the board is full and there are no more opportunities to merge blocks.</p>
                <!-- <br/> -->
                <p>Connect two squares with the same value:</p>
                <img src="mergeNumbers/Instruction/1.png" alt="Opis obrazka">
                <img src="mergeNumbers/Instruction/3.png" alt="Opis obrazka">
                <br/>
                <p>You can connect more than just two squares with the same value, which gives you extra points:</p>
                <img src="mergeNumbers/Instruction/2.png" alt="Opis obrazka">
                <img src="mergeNumbers/Instruction/3.png" alt="Opis obrazka">
                <br/>
                <p>When you connect squares with a value of 2048, an additional 4096 points are added to your score, and the squares free up space:</p>
                <img src="mergeNumbers/Instruction/4.png" alt="Opis obrazka">
                <img src="mergeNumbers/Instruction/5.png" alt="Opis obrazka">
                <br/>
                <a href="#item3" class="BackOnTop"><i class="fa-solid fa-share"></i></a>
              </div>              
            </section>
            <section id="game5">
              <h2>Another Game</h2>
              <br/>
              <a href="#item3" class="BackOnTop"><i class="fa-solid fa-share"></i></a>
            </section>
            <br/>
            <br/>
          </div>
        </div>
      </div>
      <div id="item4">
        <div class="AboutBox">
          <div class="About">
            <h2>Welcome to Game Selector!</h2>
            <p>Welcome to my collection of classic games developed as part of the "100 Commits on GitHub" challenge by DevMentors.</p>
            <p>Whether you're a seasoned gamer or new to the world of gaming, there's something here for everyone to enjoy and find hard to resist.</p>
            <br/>
            <p>The project was created as part of the "100 Commits on GitHub" challenge initiated by "DevMentors"</p>
            <p> a group of highly talented individuals founded by Dariusz Pawlikiewicz, Michał Wilczyński, and Piotr Gankiewicz.</p>
            <p>I decided to create a dynamic website showcasing several classic games such as Snake, Pong, Slide, and many others. </p>
            <p>The aim of the project is not only to acquire skills in JavaScript, CSS, and HTML but also to provide entertainment through interactive games.</p>
            <br/>
            <p>Games currently available:</p>
            <p>- Snake
            <p>- Slide
            <p>- Pong
            <p>- Merge Numbers
            <p>- Another Game
            </p>
          </div>
          <div id="AnimationContainer">
            <!-- <button onclick="dancingOpossom()">Run Dancing Opossum Animation</button> -->
            <!-- Tutaj umieszczamy animację oposa -->
          </div>
        </div>
      </div>
      <div id="default"><!-- domyślnie nie jest wyświetlany żaden tekst --> </p>
    </div>

<!--     <button class="myButton" onclick="clearGameContainer()">Clear Game</button>
    <button class="myButton" onclick="stopCurrentGame()">Stop Game</button> --> <!-- Dodany przycisk Stop Game -->

    <div class="container">
      <div class="btnGroupGameStarter">
<!--         <button onclick="runSnakeGame()">Run Snake Game</button>
        <button onclick="runSlideGame()">Run Slide Game</button>
        <button onclick="runPongGame()">Run Pong Game</button>
        <button onclick="runMergeGame()">Run Merge Game</button>
        <button onclick="runAnotherGame()">Run Another Game</button> -->
         <!-- Dodać więcej przycisków dla innych gier -->
      </div> 
      <div class="box">
<!--         <h2 id="playGame">GAME</h2>
        <div id="gameContainer">          

        </div> -->
      </div>
    </div>   
  </div> 
    <script src="game/Animation/DancingCat.js"></script>
    <script src="snake/snake.js"></script>
    <script type="module" src="slide/slide.js"></script>
    <script src="pong/pong.js"></script>
    <script type="module" src="mergeNumbers/mergeNumbers.js"></script>

    <!-- Dodać więcej skryptów dla innych gier -->

    <script>

      var currentAnimation = null; // Globalna zmienna do przechowywania aktualnej animacji
      function dancingCat() {
          const canvasCat = document.createElement('canvas');
          canvasCat.id = "canvasCat";
          canvasCat.width = 400;
          canvasCat.height = 400;
          // canvasCat.style.border = "5px solid green";
          document.getElementById("AnimationContainer").appendChild(canvasCat);
          currentAnimation = runCatScript().stopAnimation;
      }
      var currentGame = null; // Globalna zmienna do przechowywania aktualnej gry

      function runSnakeGame() {
        //window.location.hash = "#item2"; // Przełącz na zakładkę z grą
        stopCurrentGame()
        clearGameContainer();
        const canvasSnake = document.createElement("canvas");
        canvasSnake.id = "snakeCanvas";
        canvasSnake.width = 400;
        canvasSnake.height = 400;
        canvasSnake.style.border = "5px solid green";
        playGame.innerHTML = "Snake Game";
        document.getElementById("gameContainer").appendChild(canvasSnake);
        //runSnakeScript();
        //currentGame = runSnakeScript(); // Przypisz aktualną grę do zmiennej
        currentGame = runSnakeScript().stop;
        //document.querySelector('.GameButtons').style.display = 'block'; // Pokaż przyciski Clear Game i Stop Game
      }

      function runSlideGame() {
        //window.location.hash = "#item2"; // Przełącz na zakładkę z grą
        stopCurrentGame()
        clearGameContainer();
        const canvasSlide = document.createElement("canvas");
        canvasSlide.id = "slideCanvas";
        canvasSlide.width = 200;
        canvasSlide.height = 250;
        canvasSlide.style.border = "5px solid green";
        playGame.innerHTML = "Slide Game";
        document.getElementById("gameContainer").appendChild(canvasSlide);
        //runSlideScript();
        //currentGame = runSlideScript();
        currentGame = window.runSlideScript().stop;
        //document.querySelector('.GameButtons').style.display = 'block';
      }

      function runPongGame() {
        //window.location.hash = "#item2"; // Przełącz na zakładkę z grą
        stopCurrentGame()
        clearGameContainer();
        const canvasPong = document.createElement("canvas");
        canvasPong.id = "pongCanvas";
        canvasPong.width = 1000;
        canvasPong.height = 500;
        canvasPong.style.border = "5px solid green";
        playGame.innerHTML = "Pong Game";
        document.getElementById("gameContainer").appendChild(canvasPong);
        //runPongScript();
        //currentGame = runPongScript();
        currentGame = runPongScript().stop;
        //document.querySelector('.GameButtons').style.display = 'block';
      }

      function runMergeGame() {
        //window.location.hash = "#item2"; // Przełącz na zakładkę z grą
        stopCurrentGame()
        clearGameContainer();
        const canvasMerge = document.createElement("canvas");
        canvasMerge.id = "mergeCanvas";
        canvasMerge.width = 300;
        canvasMerge.height = 400;
        canvasMerge.style.border = "5px solid green";
        playGame.innerHTML = "Merge Game";
        document.getElementById("gameContainer").appendChild(canvasMerge);
        //runPongScript();
        //currentGame = runPongScript();
        //currentGame = runMergeScript().stop;
        currentGame = window.runMergeScript().stop;
        //document.querySelector('.GameButtons').style.display = 'block';
      }

      // Dodać funkcje runThirdGame(), runFourthGame() itd. dla reszty gier
      //To do: dodać więcej gier Wyścigi, Asteroids, Tetris, Flappy Bird, Space Invaders, Mario, Bom

      function clearGameContainer() {
        document.getElementById("gameContainer").innerHTML = "";
        playGame.innerHTML = "";
        stopCurrentGame();        
      }
  
      function stopCurrentGame() {
        if (currentGame) {
          currentGame();
          currentGame = null;
        }
      }

      function resetCurrentGame() {
        if (currentGame) {
          currentGame();
          currentGame = null;
          if (playGame.innerHTML == "Snake Game") {
            runSnakeGame();
          } else if (playGame.innerHTML == "Slide Game") {
            runSlideGame();
          } else if (playGame.innerHTML == "Pong Game") {
            runPongGame();
          } else if (playGame.innerHTML == "Merge Game") {
            runMergeGame();
          }
        }
      }

      function startGame(gameName) {
        switch(gameName) {
          case "Snake Game":
            runSnakeGame();
            break;
          case "Slide Game":
            runSlideGame();
            break;
          case "Pong Game":
            runPongGame();
            break;
          case "Merge Game":
            runMergeGame();
            break;
          // Dodaj więcej przypadków dla innych gier
          default:
            console.log("Nieznana gra!");
        }
      }

      function clearAnimationContainer() {
        document.getElementById("AnimationContainer").innerHTML = "";
        stopanimation();        
      }

      function stopanimation() {
        if (currentAnimation) {
          currentAnimation();
          currentAnimation = null;
        }
      }
      
/*       document.addEventListener("DOMContentLoaded", function() {
        var hash = window.location.hash;
        if (hash) {
          var item = document.querySelector(hash);
          if (item) {
            item.style.display = "block"; // Wyświetl odpowiednią zakładkę
          }
        }
      }); */


/*       document.addEventListener("DOMContentLoaded", function() {
          dancingCat(); // Uruchomienie animacji oposa po załadowaniu strony
      }); */

      // Funkcja do zmiany widoczności elementów po kliknięciu w link zakładki
      function showTab(tabId) {
          // Ukrywa wszystkie zakładki
          var tabs = document.querySelectorAll(".items > div");
          tabs.forEach(function(tab) {
              tab.style.display = "none";
          });
          // Wyświetla wybraną zakładkę
          var selectedTab = document.getElementById(tabId);
          if (selectedTab) {
              selectedTab.style.display = "block";
          }
      }

      // Funkcja do ustawienia hash URL-a na "#item2" (zakładka z grą) i wywołania funkcji showTab() dla tej zakładki
      function showGameTab() {
          window.location.hash = "#item2"; // Ustawia hash URL-a na "#item2" (zakładka z grą)
          showTab("item2"); // Wywołuje funkcję showTab() dla zakładki z grą
      }

      document.addEventListener("DOMContentLoaded", function() {
          // Funkcja do zmiany widoczności elementów po kliknięciu w link zakładki
          function showTab(tabId) {
              // Ukrywa wszystkie zakładki
              var tabs = document.querySelectorAll(".items > div");
              tabs.forEach(function(tab) {
                  tab.style.display = "none";
              });
              // Wyświetla wybraną zakładkę
              var selectedTab = document.getElementById(tabId);
              if (selectedTab) {
                  selectedTab.style.display = "block";
                  // Sprawdza, czy wybrana zakładka to trzecia zakładka (About)
                  if (tabId === "item4") {
                      // Jeśli tak, to uruchamia animację kota
                      dancingCat();
                  } else {
                      // Jeśli nie, to czyści kontener z animacją
                    clearAnimationContainer();
                  }
                  if (tabId !== "item2") {
                      // Jeśli nie, to czyści kontener z grą
                      clearGameContainer();
                  }
              }
          }

          // Ustawia pierwszą zakładkę jako widoczną po załadowaniu strony
          var defaultTab = document.getElementById("item1");
          defaultTab.style.display = "block";

          // Pobiera wszystkie linki zakładek
          var tabLinks = document.querySelectorAll(".bookmarksTop a");
          // Dodaje nasłuchiwanie na kliknięcie w link zakładki
          tabLinks.forEach(function(link) {
              link.addEventListener("click", function(event) {
                  event.preventDefault(); // Zapobiega domyślnej akcji linku
                  var tabId = link.getAttribute("href").substring(1); // Pobiera ID zakładki
                  showTab(tabId); // Wywołuje funkcję showTab dla wybranej zakładki
              });
          });
      });     


    </script>
      <footer>
        <img src="game/icons/author.ico" alt="Ikonka">
        <p1>Created by: Bartłomiej Świt</p1>        
      </footer>
  </body>
</html>

