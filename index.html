<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Selector</title>
    <link rel="stylesheet" href="game/head.css">
    <link rel="stylesheet" href="game/body.css">
    <link rel="stylesheet" href="game/footer.css">
    <link rel="icon" href="game/icons/game.ico" type="image/x-icon">
    <base href=".">
  </head>
  <body>
  <div>
    <h1>Game Selector</h1>
    <p class="bookmarksTop">
      <a href="#item1">Home</a>
      <a href="#item2">Game</a>
      <a href="#item3">About</a>
      <a href="#default">Clear</a>
    
    <div class="items">
      <div id="item1"> <!-- Zmieniłem <p> na <div> żeby można było wstawić listę przycisków -->
        <div class="btnGroupGameStarter">
          <button onclick="runSnakeGame()">Run Snake Game</button>
          <button onclick="runSlideGame()">Run Slide Game</button>
          <button onclick="runPongGame()">Run Pong Game</button>
          <button onclick="runMergeGame()">Run Merge Game</button>
          <button onclick="runAnotherGame()">Run Another Game</button>
           <!-- Dodać więcej przycisków dla innych gier -->
        </div>
      </div>
      <div id="item2"> <!-- Zmieniłem <p> na <div> żeby można było wstawić listę przycisków -->
        <div class="container">
          <div class="box">
            <h2 id="playGame">GAME</h2>
            <div id="gameContainer">          
              <!-- Tutaj będą wyświetlane gry -->
            </div>

<!--             <div class="GameButtons">
              <button class="myButton" onclick="startGame(playGame.innerHTML)">Start Game</button>
              <button class="myButton" onclick="clearGameContainer()">Clear Game</button>
              <button class="myButton" onclick="stopCurrentGame()">Stop Game</button> 
              <button class="myButton" onclick="resetCurrentGame()">Reset Game</button> 
            </div> -->
          </div>
          <div class="btnGroupGameStarter">
            <button class="myButton" onclick="startGame(playGame.innerHTML)">Start Game</button>
            <button class="myButton" onclick="clearGameContainer()">Clear Game</button>
            <button class="myButton" onclick="stopCurrentGame()">Stop Game</button> <!-- Dodany przycisk Stop Game -->
            <button class="myButton" onclick="resetCurrentGame()">Reset Game</button> <!-- Dodany przycisk Reset Game -->
          </div>
        </div>
      </div>
      <div id="item3">
        <div class="AboutBox">
          <h2>About</h2>
          <p>Witaj w Game Selector! </p>
          <p>Wybierz grę z listy i zacznij grać.</p>
          <p>Gry aktualnie dostępne:</p> 
          <p>- Snake
          <p>- Slide
          <p>- Pong
          <p>- Merge Numbers
          <p>- Another Game
          </p>
        </div>
      <div id="default"><!-- domyślnie nie jest wyświetlany żaden tekst --> </p>
    </div>

<!--     <button class="myButton" onclick="clearGameContainer()">Clear Game</button>
    <button class="myButton" onclick="stopCurrentGame()">Stop Game</button> --> <!-- Dodany przycisk Stop Game -->

    <div class="container">
      <div class="btnGroupGameStarter">
<!--         <button onclick="runSnakeGame()">Run Snake Game</button>
        <button onclick="runSlideGame()">Run Slide Game</button>
        <button onclick="runPongGame()">Run Pong Game</button>
        <button onclick="runMergeGame()">Run Merge Game</button>
        <button onclick="runAnotherGame()">Run Another Game</button> -->
         <!-- Dodać więcej przycisków dla innych gier -->
      </div> 
<!--       <div class="box" >
        <button class="myButton" onclick="runSnakeGame()">Run Snake Game</button>
        <button class="myButton" onclick="runSlideGame()">Run Slide Game</button>
        <button class="myButton" onclick="runPongGame()">Run Pong Game</button>
        <button class="myButton" onclick="runAnotherGame()">Run Another Game</button>       
      </div> -->
      <div class="box">
<!--         <h2 id="playGame">GAME</h2>
        <div id="gameContainer">          

        </div> -->
      </div>
    </div>   
  </div> 

    <script src="snake/snake.js"></script>
    <script type="module" src="slide/slide.js"></script>
    <script src="pong/pong.js"></script>
    <script type="module" src="mergeNumbers/mergeNumbers.js"></script>
    <!-- Dodać więcej skryptów dla innych gier -->

    <script>
      //var audio = new Audio('pong/Ball.mp3');
      //audio.play();
      var currentGame = null; // Globalna zmienna do przechowywania aktualnej gry

      function runSnakeGame() {
        window.location.hash = "#item2"; // Przełącz na zakładkę z grą
        stopCurrentGame()
        clearGameContainer();
        const canvasSnake = document.createElement("canvas");
        canvasSnake.id = "snakeCanvas";
        canvasSnake.width = 400;
        canvasSnake.height = 400;
        canvasSnake.style.border = "5px solid green";
        playGame.innerHTML = "Snake Game";
        document.getElementById("gameContainer").appendChild(canvasSnake);
        //runSnakeScript();
        //currentGame = runSnakeScript(); // Przypisz aktualną grę do zmiennej
        currentGame = runSnakeScript().stop;
        //document.querySelector('.GameButtons').style.display = 'block'; // Pokaż przyciski Clear Game i Stop Game
      }

      function runSlideGame() {
        window.location.hash = "#item2"; // Przełącz na zakładkę z grą
        stopCurrentGame()
        clearGameContainer();
        const canvasSlide = document.createElement("canvas");
        canvasSlide.id = "slideCanvas";
        canvasSlide.width = 200;
        canvasSlide.height = 250;
        canvasSlide.style.border = "5px solid green";
        playGame.innerHTML = "Slide Game";
        document.getElementById("gameContainer").appendChild(canvasSlide);
        //runSlideScript();
        //currentGame = runSlideScript();
        currentGame = window.runSlideScript().stop;
        //document.querySelector('.GameButtons').style.display = 'block';
      }

      function runPongGame() {
        window.location.hash = "#item2"; // Przełącz na zakładkę z grą
        stopCurrentGame()
        clearGameContainer();
        const canvasPong = document.createElement("canvas");
        canvasPong.id = "pongCanvas";
        canvasPong.width = 1000;
        canvasPong.height = 500;
        canvasPong.style.border = "5px solid green";
        playGame.innerHTML = "Pong Game";
        document.getElementById("gameContainer").appendChild(canvasPong);
        //runPongScript();
        //currentGame = runPongScript();
        currentGame = runPongScript().stop;
        //document.querySelector('.GameButtons').style.display = 'block';
      }

      function runMergeGame() {
        window.location.hash = "#item2"; // Przełącz na zakładkę z grą
        stopCurrentGame()
        clearGameContainer();
        const canvasMerge = document.createElement("canvas");
        canvasMerge.id = "mergeCanvas";
        canvasMerge.width = 300;
        canvasMerge.height = 400;
        canvasMerge.style.border = "5px solid green";
        playGame.innerHTML = "Merge Game";
        document.getElementById("gameContainer").appendChild(canvasMerge);
        //runPongScript();
        //currentGame = runPongScript();
        //currentGame = runMergeScript().stop;
        currentGame = window.runMergeScript().stop;
        //document.querySelector('.GameButtons').style.display = 'block';
      }

      // Dodać funkcje runThirdGame(), runFourthGame() itd. dla reszty gier
      //To do: dodać więcej gier Wyścigi, Asteroids, Tetris, Flappy Bird, Space Invaders, Mario, Bom

      function clearGameContainer() {
        document.getElementById("gameContainer").innerHTML = "";
        playGame.innerHTML = "";
        stopCurrentGame();        
      }
  
      function stopCurrentGame() {
        if (currentGame) {
          currentGame();
          currentGame = null;
        }
      }

      function resetCurrentGame() {
        if (currentGame) {
          currentGame();
          currentGame = null;
          if (playGame.innerHTML == "Snake Game") {
            runSnakeGame();
          } else if (playGame.innerHTML == "Slide Game") {
            runSlideGame();
          } else if (playGame.innerHTML == "Pong Game") {
            runPongGame();
          } else if (playGame.innerHTML == "Merge Game") {
            runMergeGame();
          }
        }
      }

      function startGame(gameName) {
        switch(gameName) {
          case "Snake Game":
            runSnakeGame();
            break;
          case "Slide Game":
            runSlideGame();
            break;
          case "Pong Game":
            runPongGame();
            break;
          case "Merge Game":
            runMergeGame();
            break;
          // Dodaj więcej przypadków dla innych gier
          default:
            console.log("Nieznana gra!");
        }
      }

      document.addEventListener("DOMContentLoaded", function() {
        var hash = window.location.hash;
        if (hash) {
          var item = document.querySelector(hash);
          if (item) {
            item.style.display = "block"; // Wyświetl odpowiednią zakładkę
          }
        }
      });

    </script>
      <footer>
        <img src="game/icons/author.ico" alt="Ikonka">
        <p1>Created by: Bartłomiej Świt</p1>        
      </footer>
  </body>
</html>

