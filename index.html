<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Selector</title>
    <link rel="stylesheet" href="game/head.css">
    <link rel="stylesheet" href="game/body.css">
    <link rel="stylesheet" href="game/footer.css">
    <link rel="icon" href="game/icons/game.ico" type="image/x-icon">
    <base href=".">
  </head>
  <body>
  <div>
    <h1>Game Selector</h1>
    <p class="bookmarksTop">
      <a href="#item1">Home</a>
      <!-- <a href="#item2">Game</a> -->
      <a href="#item3">How To Play</a>
      <a href="#item4">About</a>
      <a href="#default">Clear</a>
    
    <div class="items">
      <div id="item1"> <!-- Zmieniłem <p> na <div> żeby można było wstawić listę przycisków -->
        <div class="btnGroupGameStarter">
          <button onclick="showGameTab(); runSnakeGame()">Run Snake Game</button>
          <button onclick="showGameTab(); runSlideGame()">Run Slide Game</button>
          <button onclick="showGameTab(); runPongGame()">Run Pong Game</button>
          <button onclick="showGameTab(); runMergeGame()">Run Merge Game</button>
          <button onclick="showGameTab(); runAnotherGame()">Run Another Game</button>
           <!-- Dodać więcej przycisków dla innych gier -->
        </div>
      </div>
      <div id="item2"> <!-- Zmieniłem <p> na <div> żeby można było wstawić listę przycisków -->
        <div class="container">
          <div class="box">
            <h2 id="playGame">GAME</h2>
            <div id="gameContainer">          
              <!-- Tutaj będą wyświetlane gry -->
            </div>

<!--             <div class="GameButtons">
              <button class="myButton" onclick="startGame(playGame.innerHTML)">Start Game</button>
              <button class="myButton" onclick="clearGameContainer()">Clear Game</button>
              <button class="myButton" onclick="stopCurrentGame()">Stop Game</button> 
              <button class="myButton" onclick="resetCurrentGame()">Reset Game</button> 
            </div> -->
          </div>
          <div class="btnGroupGameStarter">
            <button class="myButton" onclick="startGame(playGame.innerHTML)">Start Game</button>
            <button class="myButton" onclick="clearGameContainer()">Clear Game</button>
            <button class="myButton" onclick="stopCurrentGame()">Stop Game</button> <!-- Dodany przycisk Stop Game -->
            <button class="myButton" onclick="resetCurrentGame()">Reset Game</button> <!-- Dodany przycisk Reset Game -->
          </div>
        </div>
      </div>
      <div id="item3">
        <div class="HowToPlay">
          <div class="HowToPlayHead">
            <h2>How To Play</h2>
            <p>Use the buttons to select a game.</p>
            <p>Click on the "Start Game" button to start the game.</p>
            <p>Use the arrow keys to control the game.</p>
            <p>Click on the "Clear Game" button to clear the game.</p>
            <p>Click on the "Stop Game" button to stop the game.</p>
            <p>Click on the "Reset Game" button to reset the game.</p>
            <p>Have fun!</p>
            
          </div>
          <div class="HowToPlayBody">
            <h2>Game List</h2>
            <ul class="GameList">
              <li><a href="#game1">Snake Game</a></li>
              <li><a href="#game2">Slide Game</a></li>
              <li><a href="#game3">Pong Game</a></li>
              <li><a href="#game4">Merge Game</a></li>
              <li><a href="#game5">Another Game</a></li>
              <!-- Dodaj kolejne gry -->
            </ul>
            <div id="game1">
              <h2>Snake Game</h2>
              <!-- Zawartość gry 1 -->
            </div>
            
            <div id="game2">
              <h2>Slide Game</h2>
              <!-- Zawartość gry 2 -->
            </div>
            <div id="game3">
              <h2>Pong Game</h2>
              <!-- Zawartość gry 2 -->
            </div>
            <div id="game4">
              <h2>Merge Game</h2>
              <!-- Zawartość gry 2 -->
            </div>
            <div id="game5">
              <h2>Another Game</h2>
              <!-- Zawartość gry 2 -->
            </div>
          </div>
        </div>
      </div>
      <div id="item4">
        <div class="AboutBox">
          <div class="About">
            <h2>About</h2>
            <p>Welcome to Game Selector!</p>
            <p>Select a game from the list and start playing.</p>
            <p>Games currently available:</p> 
            <p>- Snake
            <p>- Slide
            <p>- Pong
            <p>- Merge Numbers
            <p>- Another Game
            </p>
          </div>
          <div id="AnimationContainer">
            <!-- <button onclick="dancingOpossom()">Run Dancing Opossum Animation</button> -->
            <!-- Tutaj umieszczamy animację oposa -->
          </div>
        </div>
      </div>
      <div id="default"><!-- domyślnie nie jest wyświetlany żaden tekst --> </p>
    </div>

<!--     <button class="myButton" onclick="clearGameContainer()">Clear Game</button>
    <button class="myButton" onclick="stopCurrentGame()">Stop Game</button> --> <!-- Dodany przycisk Stop Game -->

    <div class="container">
      <div class="btnGroupGameStarter">
<!--         <button onclick="runSnakeGame()">Run Snake Game</button>
        <button onclick="runSlideGame()">Run Slide Game</button>
        <button onclick="runPongGame()">Run Pong Game</button>
        <button onclick="runMergeGame()">Run Merge Game</button>
        <button onclick="runAnotherGame()">Run Another Game</button> -->
         <!-- Dodać więcej przycisków dla innych gier -->
      </div> 
<!--       <div class="box" >
        <button class="myButton" onclick="runSnakeGame()">Run Snake Game</button>
        <button class="myButton" onclick="runSlideGame()">Run Slide Game</button>
        <button class="myButton" onclick="runPongGame()">Run Pong Game</button>
        <button class="myButton" onclick="runAnotherGame()">Run Another Game</button>       
      </div> -->
      <div class="box">
<!--         <h2 id="playGame">GAME</h2>
        <div id="gameContainer">          

        </div> -->
      </div>
    </div>   
  </div> 
    <script src="game/Animation/DancingCat.js"></script>
    <script src="snake/snake.js"></script>
    <script type="module" src="slide/slide.js"></script>
    <script src="pong/pong.js"></script>
    <script type="module" src="mergeNumbers/mergeNumbers.js"></script>

    <!-- Dodać więcej skryptów dla innych gier -->

    <script>
      function dancingCat() {
          const canvasOpossom = document.createElement('canvas');
          canvasOpossom.id = "canvasCat";
          canvasOpossom.width = 400;
          canvasOpossom.height = 400;
          // canvasOpossom.style.border = "5px solid green";
          document.getElementById("AnimationContainer").appendChild(canvasOpossom);
          runCatScript();
      }
      var currentGame = null; // Globalna zmienna do przechowywania aktualnej gry

      function runSnakeGame() {
        //window.location.hash = "#item2"; // Przełącz na zakładkę z grą
        stopCurrentGame()
        clearGameContainer();
        const canvasSnake = document.createElement("canvas");
        canvasSnake.id = "snakeCanvas";
        canvasSnake.width = 400;
        canvasSnake.height = 400;
        canvasSnake.style.border = "5px solid green";
        playGame.innerHTML = "Snake Game";
        document.getElementById("gameContainer").appendChild(canvasSnake);
        //runSnakeScript();
        //currentGame = runSnakeScript(); // Przypisz aktualną grę do zmiennej
        currentGame = runSnakeScript().stop;
        //document.querySelector('.GameButtons').style.display = 'block'; // Pokaż przyciski Clear Game i Stop Game
      }

      function runSlideGame() {
        //window.location.hash = "#item2"; // Przełącz na zakładkę z grą
        stopCurrentGame()
        clearGameContainer();
        const canvasSlide = document.createElement("canvas");
        canvasSlide.id = "slideCanvas";
        canvasSlide.width = 200;
        canvasSlide.height = 250;
        canvasSlide.style.border = "5px solid green";
        playGame.innerHTML = "Slide Game";
        document.getElementById("gameContainer").appendChild(canvasSlide);
        //runSlideScript();
        //currentGame = runSlideScript();
        currentGame = window.runSlideScript().stop;
        //document.querySelector('.GameButtons').style.display = 'block';
      }

      function runPongGame() {
        //window.location.hash = "#item2"; // Przełącz na zakładkę z grą
        stopCurrentGame()
        clearGameContainer();
        const canvasPong = document.createElement("canvas");
        canvasPong.id = "pongCanvas";
        canvasPong.width = 1000;
        canvasPong.height = 500;
        canvasPong.style.border = "5px solid green";
        playGame.innerHTML = "Pong Game";
        document.getElementById("gameContainer").appendChild(canvasPong);
        //runPongScript();
        //currentGame = runPongScript();
        currentGame = runPongScript().stop;
        //document.querySelector('.GameButtons').style.display = 'block';
      }

      function runMergeGame() {
        //window.location.hash = "#item2"; // Przełącz na zakładkę z grą
        stopCurrentGame()
        clearGameContainer();
        const canvasMerge = document.createElement("canvas");
        canvasMerge.id = "mergeCanvas";
        canvasMerge.width = 300;
        canvasMerge.height = 400;
        canvasMerge.style.border = "5px solid green";
        playGame.innerHTML = "Merge Game";
        document.getElementById("gameContainer").appendChild(canvasMerge);
        //runPongScript();
        //currentGame = runPongScript();
        //currentGame = runMergeScript().stop;
        currentGame = window.runMergeScript().stop;
        //document.querySelector('.GameButtons').style.display = 'block';
      }

      // Dodać funkcje runThirdGame(), runFourthGame() itd. dla reszty gier
      //To do: dodać więcej gier Wyścigi, Asteroids, Tetris, Flappy Bird, Space Invaders, Mario, Bom

      function clearGameContainer() {
        document.getElementById("gameContainer").innerHTML = "";
        playGame.innerHTML = "";
        stopCurrentGame();        
      }
  
      function stopCurrentGame() {
        if (currentGame) {
          currentGame();
          currentGame = null;
        }
      }

      function resetCurrentGame() {
        if (currentGame) {
          currentGame();
          currentGame = null;
          if (playGame.innerHTML == "Snake Game") {
            runSnakeGame();
          } else if (playGame.innerHTML == "Slide Game") {
            runSlideGame();
          } else if (playGame.innerHTML == "Pong Game") {
            runPongGame();
          } else if (playGame.innerHTML == "Merge Game") {
            runMergeGame();
          }
        }
      }

      function startGame(gameName) {
        switch(gameName) {
          case "Snake Game":
            runSnakeGame();
            break;
          case "Slide Game":
            runSlideGame();
            break;
          case "Pong Game":
            runPongGame();
            break;
          case "Merge Game":
            runMergeGame();
            break;
          // Dodaj więcej przypadków dla innych gier
          default:
            console.log("Nieznana gra!");
        }
      }
      
/*       document.addEventListener("DOMContentLoaded", function() {
        var hash = window.location.hash;
        if (hash) {
          var item = document.querySelector(hash);
          if (item) {
            item.style.display = "block"; // Wyświetl odpowiednią zakładkę
          }
        }
      }); */


/*       document.addEventListener("DOMContentLoaded", function() {
          dancingCat(); // Uruchomienie animacji oposa po załadowaniu strony
      }); */

      // Funkcja do zmiany widoczności elementów po kliknięciu w link zakładki
      function showTab(tabId) {
          // Ukrywa wszystkie zakładki
          var tabs = document.querySelectorAll(".items > div");
          tabs.forEach(function(tab) {
              tab.style.display = "none";
          });
          // Wyświetla wybraną zakładkę
          var selectedTab = document.getElementById(tabId);
          if (selectedTab) {
              selectedTab.style.display = "block";
          }
      }

      // Funkcja do ustawienia hash URL-a na "#item2" (zakładka z grą) i wywołania funkcji showTab() dla tej zakładki
      function showGameTab() {
          window.location.hash = "#item2"; // Ustawia hash URL-a na "#item2" (zakładka z grą)
          showTab("item2"); // Wywołuje funkcję showTab() dla zakładki z grą
      }

      document.addEventListener("DOMContentLoaded", function() {
          // Funkcja do zmiany widoczności elementów po kliknięciu w link zakładki
          function showTab(tabId) {
              // Ukrywa wszystkie zakładki
              var tabs = document.querySelectorAll(".items > div");
              tabs.forEach(function(tab) {
                  tab.style.display = "none";
              });
              // Wyświetla wybraną zakładkę
              var selectedTab = document.getElementById(tabId);
              if (selectedTab) {
                  selectedTab.style.display = "block";
                  // Sprawdza, czy wybrana zakładka to trzecia zakładka (About)
                  if (tabId === "item3") {
                      // Jeśli tak, to uruchamia animację kota
                      dancingCat();
                  }
                  if (tabId !== "item2") {
                      clearGameContainer();
                  }
              }
          }

          // Ustawia pierwszą zakładkę jako widoczną po załadowaniu strony
          var defaultTab = document.getElementById("item1");
          defaultTab.style.display = "block";

          // Pobiera wszystkie linki zakładek
          var tabLinks = document.querySelectorAll(".bookmarksTop a");
          // Dodaje nasłuchiwanie na kliknięcie w link zakładki
          tabLinks.forEach(function(link) {
              link.addEventListener("click", function(event) {
                  event.preventDefault(); // Zapobiega domyślnej akcji linku
                  var tabId = link.getAttribute("href").substring(1); // Pobiera ID zakładki
                  showTab(tabId); // Wywołuje funkcję showTab dla wybranej zakładki
              });
          });
      });     


    </script>
      <footer>
        <img src="game/icons/author.ico" alt="Ikonka">
        <p1>Created by: Bartłomiej Świt</p1>        
      </footer>
  </body>
</html>

