<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Selector</title>
    <link rel="stylesheet" href="game/head.css">
    <link rel="stylesheet" href="game/body.css">
    <link rel="stylesheet" href="game/footer.css">
    <link rel="icon" href="game/icons/game.ico" type="image/x-icon">
  </head>
  <body>
    <h1>Game Selector</h1>
    <button class="myButton" onclick="clearGameContainer()">Clear Game</button>
    <button class="myButton" onclick="stopCurrentGame()">Stop Game</button> <!-- Dodany przycisk Stop Game -->

    <div class="container">
      <div class="box">
        <h2 id="playGame">GAME</h2>
        <div id="gameContainer">          
          <!-- Tutaj będą wyświetlane gry -->
        </div>
      </div>
      <div class="box" >
        <button class="myButton" onclick="runSnakeGame()">Run Snake Game</button>
        <button class="myButton" onclick="runSlideGame()">Run Slide Game</button>
        <button class="myButton" onclick="runPongGame()">Run Pong Game</button>
        <button class="myButton" onclick="runAnotherGame()">Run Another Game</button>
        <!-- Dodać więcej przycisków dla innych gier -->
      </div>
    </div>    

    <script src="snake/snake.js"></script>
    <script src="slide/slide.js"></script>
    <script src="pong/pong.js"></script>
    <!-- Dodać więcej skryptów dla innych gier -->

    <script>
      //var audio = new Audio('pong/Ball.mp3');
      //audio.play();
      var currentGame = null; // Globalna zmienna do przechowywania aktualnej gry

      function runSnakeGame() {
        clearGameContainer();
        const canvasSnake = document.createElement("canvas");
        canvasSnake.id = "snakeCanvas";
        canvasSnake.width = 400;
        canvasSnake.height = 400;
        canvasSnake.style.border = "5px solid green";
        playGame.innerHTML = "Snake Game";
        document.getElementById("gameContainer").appendChild(canvasSnake);
        //runSnakeScript();
        //currentGame = runSnakeScript(); // Przypisz aktualną grę do zmiennej
        currentGame = runSnakeScript().stop;
      }

      function runSlideGame() {
        clearGameContainer();
        const canvasSlide = document.createElement("canvas");
        canvasSlide.id = "slideCanvas";
        canvasSlide.width = 200;
        canvasSlide.height = 250;
        canvasSlide.style.border = "5px solid green";
        playGame.innerHTML = "Slide Game";
        document.getElementById("gameContainer").appendChild(canvasSlide);
        //runSlideScript();
        //currentGame = runSlideScript();
        currentGame = runSlideScript().stop;
      }

      function runPongGame() {
        clearGameContainer();
        const canvasPong = document.createElement("canvas");
        canvasPong.id = "pongCanvas";
        canvasPong.width = 1000;
        canvasPong.height = 500;
        canvasPong.style.border = "5px solid green";
        playGame.innerHTML = "Pong Game";
        document.getElementById("gameContainer").appendChild(canvasPong);
        //runPongScript();
        //currentGame = runPongScript();
        currentGame = runPongScript().stop;
      }

      // Dodać funkcje runThirdGame(), runFourthGame() itd. dla reszty gier
      //To do: dodać więcej gier Asteroids, Tetris, Flappy Bird, Space Invaders, Mario, Bom

      function clearGameContainer() {
        document.getElementById("gameContainer").innerHTML = "";
        playGame.innerHTML = "";
        stopCurrentGame();        
      }
  
      function stopCurrentGame() {
        if (currentGame) {
          currentGame();
          currentGame = null;
        }
      }

    </script>
      <footer>
        <img src="game/icons/author.ico" alt="Ikonka">
        <p1>Created by: Bartłomiej Świt</p1>        
      </footer>
  </body>
</html>

